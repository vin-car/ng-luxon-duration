{"version":3,"file":"duration-to-format.pipe.test.js","sourceRoot":"","sources":["../src/duration-to-format.pipe.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { Duration } from \"luxon\";\r\n\r\nimport { DurationToFormatPipe } from \"./duration-to-format.pipe\";\r\n\r\nconst dur = () =>\r\n  Duration.fromObject({\r\n    years: 1,\r\n    months: 2,\r\n    days: 3,\r\n    hours: 4,\r\n    minutes: 5,\r\n    seconds: 6,\r\n    milliseconds: 7\r\n  });\r\n\r\ndescribe('DurationToFormatPipe', () => {\r\n  describe('toFormat', () => {\r\n\r\n    let pipe: DurationToFormatPipe;\r\n\r\n    beforeEach(() => {\r\n      pipe = new DurationToFormatPipe();\r\n    });\r\n\r\n    test(\"Duration#toFormat('S') returns milliseconds\", () => {\r\n      expect(pipe.transform(dur(),'S')).toBe('36993906007');\r\n    \r\n      const lil = Duration.fromMillis(5);\r\n      expect(pipe.transform(lil,'S')).toBe('5');\r\n      expect(pipe.transform(lil,'SS')).toBe('05');\r\n      expect(pipe.transform(lil,'SSSSS')).toBe('00005');\r\n    });\r\n    \r\n    test(\"Duration#toFormat('s') returns seconds\", () => {\r\n      expect(pipe.transform(dur(),'s')).toBe('36993906');\r\n      expect(pipe.transform(dur(),'s', { round: false })).toBe('36993906.007');\r\n      expect(pipe.transform(dur(),'s.SSS')).toBe('36993906.007');\r\n    });\r\n    \r\n    test(\"Duration#toFormat('m') returns minutes\", () => {\r\n      expect(pipe.transform(dur(),'m')).toBe('616565');\r\n      expect(pipe.transform(dur(),'m', { round: false })).toBe('616565.1');\r\n      expect(pipe.transform(dur(),'m:ss')).toBe('616565:06');\r\n      expect(pipe.transform(dur(),'m:ss.SSS')).toBe('616565:06.007');\r\n    });\r\n    \r\n    test(\"Duration#toFormat('h') returns hours\", () => {\r\n      expect(pipe.transform(dur(),'h')).toBe('10276');\r\n      expect(pipe.transform(dur(),'h', { round: false })).toBe('10276.085');\r\n      expect(pipe.transform(dur(),'h:ss')).toBe('10276:306');\r\n      expect(pipe.transform(dur(),'h:mm:ss.SSS')).toBe('10276:05:06.007');\r\n    });\r\n    \r\n    test(\"Duration#toFormat('d') returns days\", () => {\r\n      expect(pipe.transform(dur(),'d')).toBe('428');\r\n      expect(pipe.transform(dur(),'d', { round: false })).toBe('428.17');\r\n      expect(pipe.transform(dur(),'d:h:ss')).toBe('428:4:306');\r\n      expect(pipe.transform(dur(),'d:h:mm:ss.SSS')).toBe('428:4:05:06.007');\r\n    });\r\n    \r\n    test(\"Duration#toFormat('M') returns months\", () => {\r\n      expect(pipe.transform(dur(),'M')).toBe('14');\r\n      expect(pipe.transform(dur(),'M', { round: false })).toBe('14.106');\r\n      expect(pipe.transform(dur(),'M:s')).toBe('14:273906');\r\n      expect(pipe.transform(dur(),'M:dd:h:mm:ss.SSS')).toBe('14:03:4:05:06.007');\r\n    });\r\n    \r\n    test(\"Duration#toFormat('y') returns years\", () => {\r\n      expect(pipe.transform(dur(),'y')).toBe('1');\r\n      expect(pipe.transform(dur(),'y', { round: false })).toBe('1.175');\r\n      expect(pipe.transform(dur(),'y:m')).toBe('1:90965');\r\n      expect(pipe.transform(dur(),'y:M:dd:h:mm:ss.SSS')).toBe('1:2:03:4:05:06.007');\r\n    \r\n      const lil = Duration.fromObject({ years: 5 });\r\n      expect(pipe.transform(lil,'y')).toBe('5');\r\n      expect(pipe.transform(lil,'yy')).toBe('05');\r\n      expect(pipe.transform(lil,'yyyyy')).toBe('00005');\r\n    });\r\n    \r\n    test('Duration#toFormat leaves in zeros', () => {\r\n      const tiny = Duration.fromObject({ seconds: 5 });\r\n      expect(pipe.transform(tiny,'hh:mm:ss')).toBe('00:00:05');\r\n      expect(pipe.transform(tiny,'hh:mm:ss.SSS')).toBe('00:00:05.000');\r\n    });\r\n  });\r\n});"]}