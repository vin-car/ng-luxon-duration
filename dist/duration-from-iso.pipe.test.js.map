{"version":3,"file":"duration-from-iso.pipe.test.js","sourceRoot":"","sources":["../src/duration-from-iso.pipe.test.ts"],"names":[],"mappings":";;AAEA,mEAA+D;AAE/D,QAAQ,CAAC,qBAAqB,EAAE;IAC9B,QAAQ,CAAC,SAAS,EAAE;QAElB,IAAI,mBAAwC,CAAC;QAE7C,UAAU,CAAC;YACT,mBAAmB,GAAG,IAAI,4CAAmB,EAAE,CAAC;SACjD,CAAC,CAAC;QAEH,IAAI,CAAC,wDAAwD,EAAE;YAC7D,IAAM,KAAK,GAAG,UAAC,CAAQ,EAAE,EAAS;gBAChC,MAAM,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;aACjE,CAAC;YAEF,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YACxC,KAAK,CAAC,UAAU,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;YAChD,KAAK,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;YAC3D,KAAK,CAAC,YAAY,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YAClD,KAAK,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;SAC5B,CAAC,CAAC;QAEH,IAAI,CAAC,+BAA+B,EAAE;YACpC,IAAM,OAAO,GAAG,UAAC,CAAQ;gBACvB,MAAM,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACrE,CAAC;YAEF,OAAO,CAAC,MAAM,CAAC,CAAC;YAChB,OAAO,CAAC,QAAQ,CAAC,CAAC;YAClB,OAAO,CAAC,IAAI,CAAC,CAAC;YACd,OAAO,CAAC,MAAM,CAAC,CAAC;YAChB,OAAO,CAAC,MAAM,CAAC,CAAC;YAChB,OAAO,CAAC,OAAO,CAAC,CAAC;SAClB,CAAC,CAAC;KACJ,CAAC,CAAC;CACJ,CAAC,CAAC","sourcesContent":["import { Duration } from \"luxon\";\r\n\r\nimport { DurationFromISOPipe } from \"./duration-from-iso.pipe\";\r\n\r\ndescribe('DurationFromISOPipe', () => {\r\n  describe('fromISO', () => {\r\n\r\n    let durationFromISOPipe: DurationFromISOPipe;\r\n\r\n    beforeEach(() => {\r\n      durationFromISOPipe = new DurationFromISOPipe();\r\n    });\r\n\r\n    test('durationFromISOPipe can parse a variety of ISO formats', () => {\r\n      const check = (s:string, ob:object) => {\r\n        expect(durationFromISOPipe.transform(s).toObject()).toEqual(ob);\r\n      };\r\n\r\n      check('P5Y3M', { years: 5, months: 3 });\r\n      check('PT54M32S', { minutes: 54, seconds: 32 });\r\n      check('P3DT54M32S', { days: 3, minutes: 54, seconds: 32 });\r\n      check('P1YT34000S', { years: 1, seconds: 34000 });\r\n      check('P2W', { weeks: 2 });\r\n    });\r\n\r\n    test('Duration.fromISO rejects junk', () => {\r\n      const rejects = (s:string) => {\r\n        expect(durationFromISOPipe.transform(s).as('milliseconds')).toBe(0);\r\n      };\r\n\r\n      rejects('poop');\r\n      rejects('P5Y34S');\r\n      rejects('5Y');\r\n      rejects('P34S');\r\n      rejects('P34K');\r\n      rejects('P5D2W');\r\n    });\r\n  });\r\n});"]}